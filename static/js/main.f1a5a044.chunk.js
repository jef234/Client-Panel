(this["webpackJsonpclient-panel"]=this["webpackJsonpclient-panel"]||[]).push([[0],{211:function(e,a,t){e.exports=t(413)},216:function(e,a,t){},412:function(e,a,t){},413:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(82),c=t.n(r),s=(t(216),t(6)),m=t(28),o=t(27),i=t(15),u=t(85),d=t.n(u),p=(t(224),t(228),t(230),t(13)),b=t(134);d.a.initializeApp({apiKey:"AIzaSyAS_Y1ffT4ObeMy6c74dvBEPTETU3qyNRs",authDomain:"react-client-panel-9832d.firebaseapp.com",databaseURL:"https://react-client-panel-9832d.firebaseio.com",projectId:"react-client-panel-9832d",storageBucket:"react-client-panel-9832d.appspot.com",messagingSenderId:"1822124726",appId:"1:1822124726:web:2755c7db05d7b9da8c5417"}),d.a.firestore();var E=Object(i.b)({firebase:p.firebaseReducer,firestore:b.firestoreReducer}),h=Object(i.d)(E,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),f={firebase:d.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:h.dispatch,createFirestoreInstance:b.createFirestoreInstance},N=t(19),v=t(20),g=t(22),y=t(21),O=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(){return Object(N.a)(this,t),a.apply(this,arguments)}return Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary mb-4"},l.a.createElement(s.b,{to:"/",className:"navbar-brand",href:"#"},"Client Panel"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/",className:"nav-link"},"Dashboard")))))}}]),t}(n.Component);function C(){return l.a.createElement("div",{className:"row mt-5"},l.a.createElement("i",{className:"fas fa-circle-notch fa-spin fa-3x align-middle mr-5 col-12"}))}var j=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(){var e;Object(N.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={totalOwed:null},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props.clients,a=this.state.totalOwed;return e?l.a.createElement("span",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-users"})," Clients")),l.a.createElement("div",{className:"col-6"},l.a.createElement("h5",{className:"text-right text-secondary"},"Total Owed:",l.a.createElement("span",{className:"text-primary"},"$",parseFloat(a).toFixed(2))))),l.a.createElement("table",{className:"table table-striped table-responsive"},l.a.createElement("thead",{className:"thead inverse"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Balance"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.firstName," ",e.lastName),l.a.createElement("td",null,e.email),l.a.createElement("td",null,"$",parseFloat(e.balance).toFixed(2)),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/client/".concat(e.id),className:"btn btn-secondary btn-sm"},l.a.createElement("i",{className:"fas fa-arrow-circle-right"})," Details")))}))))):l.a.createElement(C,null)}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(e.clients!==a.clients){var t=e.clients;return t?{totalOwed:t.reduce((function(e,a){return e+parseFloat(a.balance.toString())}),0)}:null}return null}}]),t}(n.Component),w=Object(i.c)(Object(p.firestoreConnect)((function(e){return[{collection:"clients"}]})),Object(o.b)((function(e,a){return{clients:e.firestore.ordered.clients}})))(j);var k=function(){return l.a.createElement("span",null,l.a.createElement(s.b,{to:"/client/add",className:"btn btn-success btn-sm"},l.a.createElement("i",{className:"fa fa-plus-circle"})," New"))};var F=function(){return l.a.createElement("span",{className:"row"},l.a.createElement("span",{className:"col-10"},l.a.createElement(w,null)),l.a.createElement("span",{className:"col-2"},l.a.createElement(k,null)))},x=t(84),S=t(5),B=t.n(S),D=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(){var e;Object(N.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={firstName:"",lastName:"",email:"",phone:"",balance:""},e.onChange=function(a){return e.setState(Object(x.a)({},a.target.name,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t=e.state,n=e.props,l=n.firestore,r=n.history;""===t.balance&&(t.balance=0),l.add({collection:"clients"},t).then((function(){return r.push("/")}))},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this.state,a=e.firstName,t=e.lastName,n=e.email,r=e.phone,c=e.balance;return l.a.createElement("span",null,l.a.createElement("div",{className:"row mb-2"},l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/",className:"btn btn-link"},l.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Back"))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",null,"Add Cient")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"firstName",minLength:"2",required:!0,onChange:this.onChange,value:a})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"lastName",minLength:"2",required:!0,onChange:this.onChange,value:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",required:!0,onChange:this.onChange,value:n})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"phone"},"Phone"),l.a.createElement("input",{type:"text",className:"form-control",name:"phone",minLength:"10",required:!0,onChange:this.onChange,value:r})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"balance"},"Balance"),l.a.createElement("input",{type:"text",className:"form-control",name:"balance",onChange:this.onChange,value:c})),l.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary btn-block"})))))}}]),t}(n.Component);D.prototypes={firestore:B.a.object.isRequired};var R=Object(p.firestoreConnect)()(D),A=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).onSubmit=function(e){e.preventDefault();var a=n.props,t=a.client,l=a.firestore,r=a.history,c={firstName:n.firstName.current.value,lastName:n.lastName.current.value,email:n.email.current.value,phone:n.phone.current.value,balance:n.balance.current.value?n.balance.current.value:0};l.update({collection:"clients",doc:t.id},c).then((function(){return r.push("/")}))},n.firstName=l.a.createRef(),n.lastName=l.a.createRef(),n.email=l.a.createRef(),n.phone=l.a.createRef(),n.balance=l.a.createRef(),n}return Object(v.a)(t,[{key:"render",value:function(){var e=this.props.client;return e?l.a.createElement("span",null,l.a.createElement("div",{className:"row mb-2"},l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/",className:"btn btn-link"},l.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Back"))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",null,"Edit Cient")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"firstName",minLength:"2",required:!0,onChange:this.onChange,ref:this.firstName,defaultValue:e.firstName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"lastName",minLength:"2",required:!0,onChange:this.onChange,ref:this.lastName,defaultValue:e.lastName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",required:!0,onChange:this.onChange,ref:this.email,defaultValue:e.email})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"phone"},"Phone"),l.a.createElement("input",{type:"text",className:"form-control",name:"phone",minLength:"10",required:!0,onChange:this.onChange,ref:this.phone,defaultValue:e.phone})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"balance"},"Balance"),l.a.createElement("input",{type:"text",className:"form-control",name:"balance",onChange:this.onChange,ref:this.balance,defaultValue:e.balance})),l.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary btn-block"}))))):l.a.createElement(C,null)}}]),t}(n.Component);A.prototypes={firestore:B.a.object.isRequired};var q=Object(i.c)(Object(p.firestoreConnect)((function(e){return[{collection:"clients",storeAs:"client",doc:e.match.params.id}]})),Object(o.b)((function(e,a){var t=e.firestore.ordered;return{client:t.client&&t.client[0]}})))(A),U=t(210),_=t.n(U),L=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(){var e;Object(N.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={showBalanceUpdate:!1,balanceUpdateAmount:""},e.balanceSubmit=function(a){a.preventDefault();var t=e.props,n=t.client,l=t.firestore,r=e.state.balanceUpdateAmount,c={balance:parseFloat(r)};l.update({collection:"clients",doc:n.id},c)},e.onChange=function(a){return e.setState(Object(x.a)({},a.target.name,a.target.value))},e.onDelete=function(){var a=e.props,t=a.client,n=a.firestore,l=a.history;n.delete({collection:"clients",doc:t.id}).then(l.push("/"))},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this,a=this.props.client,t=this.state,n=t.showBalanceUpdate,r=t.balanceUpdateAmount,c="";return c=n?l.a.createElement("form",{onSubmit:this.balanceSubmit},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"number",required:!0,className:"form-control",name:"balanceUpdateAmount",placeholder:"Add New Balance",value:r,onChange:this.onChange}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-outline-dark"})))):null,a?l.a.createElement("span",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/",className:"btn btn-link"},l.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Back")),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"btn-group float-right"},l.a.createElement(s.b,{to:"/client/edit/".concat(a.id),className:"btn btn-sm btn-dark"},"Edit"),l.a.createElement("button",{onClick:this.onDelete,className:"btn btn-sm btn-danger"},"Delete")))),l.a.createElement("hr",null),l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"card-header"},a.firstName," ",a.lastName),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h5",null,"Client ID:"," ",l.a.createElement("span",{className:"text-secondary"},a.id))),l.a.createElement("div",{className:"col-6"},l.a.createElement("h4",{className:"pull-right"},"Balance:",l.a.createElement("span",{className:_()({"text-danger":a.balance>0,"text-success":a.balance<=0})}," ","$",parseFloat(a.balance).toFixed(2)," "),l.a.createElement("small",null,l.a.createElement("a",{href:" ",onClick:function(a){e.setState({showBalanceUpdate:!e.state.showBalanceUpdate}),a.preventDefault()}},l.a.createElement("i",{className:"fas fa-pencil-alt",style:{}})))),c)),l.a.createElement("hr",null),l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},"Contact Email: ",a.email),l.a.createElement("li",{className:"list-group-item"},"Contact Phone: ",a.phone))))):l.a.createElement(C,null)}}]),t}(n.Component);L.prototypes={firestore:B.a.object.isRequired};var I=Object(i.c)(Object(p.firestoreConnect)((function(e){return[{collection:"clients",storeAs:"client",doc:e.match.params.id}]})),Object(o.b)((function(e,a){var t=e.firestore.ordered;return{client:t.client&&t.client[0]}})))(L);t(412);var P=function(){return l.a.createElement(o.a,{store:h},l.a.createElement(p.ReactReduxFirebaseProvider,f,l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(O,null),l.a.createElement("div",{className:"container"},l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:F}),l.a.createElement(m.a,{exact:!0,path:"/client/add",component:R}),l.a.createElement(m.a,{exact:!0,path:"/client/edit/:id",component:q}),l.a.createElement(m.a,{exact:!0,path:"/client/:id",component:I})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.f1a5a044.chunk.js.map